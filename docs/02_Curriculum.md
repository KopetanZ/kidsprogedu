# 02_Curriculum.md — 学習デザイン仕様（改訂版 v2.0）

## 学習観
- 「遊び→発見→言語化（音声）→再挑戦」。正解1つではなく、多様な解。
- **スパイラル学習**: 同じ概念を異なる文脈で繰り返し学ぶ
- **足場かけ（Scaffolding）**: 段階的にサポートを減らしながら自立を促す

## 改訂のポイント（v2.0）
1. **各レベルを10-12問に拡充** - 十分な練習と定着のため
2. **橋渡しレッスン追加** - レベル間の難易度ジャンプを緩和
3. **デバッグ問題の導入** - 間違いを見つけて修正する力を育成
4. **ネスト（入れ子）の段階的導入** - repeat内repeat、複雑な構造への準備
5. **条件分岐の基礎** - 簡単なif概念の導入

## 単元構成（全50レッスン）

### **L1: じゅんばん（シーケンス）** — 10課題
*目標: 命令の順序で結果が変わることを理解する*

**基礎編（1-4）**: 単一方向の移動
- L1-01 みぎへいこう（右×3）
- L1-02 はこをはこぼう（上→右→下）
- L1-03 おとをならそう（動き＋音）
- L1-04 ゴールまでいけるかな？（最短経路）

**応用編（5-8）**: 複数方向の組み合わせ
- L1-05 ジグザグに すすもう（右上交互）
- L1-06 Lのかたちに すすもう（右複数→上複数）
- L1-07 ぐるっと まわろう（4方向一周）
- L1-08 じゅうじに すすもう（往復動作）

**発展編（9-10）**: 長い手順と最適化への気づき
- L1-09 ながい みちを あるこう（8-10手順）
- L1-10 おなじ うごきを さがそう（繰り返しパターンへの気づき）

---

### **L2: くりかえし（ループ）** — 12課題
*目標: 同じ動作はまとめて繰り返せることを理解する*

**導入編（1-3）**: repeat_nの基本
- L2-01 〇かい あるこう（右×3→repeat 3）
- L2-02 おはなに みずやり（固定回数）
- L2-03 ステップで おどろう（動きパターン反復）

**練習編（4-6）**: 様々な回数と方向
- L2-04 はしごのぼり（上方向の繰り返し）
- L2-05 くりかえしを 2かい つかおう（2つの独立したループ）
- L2-06 らせんで すすもう（右上の組み合わせ）

**応用編（7-9）**: 複雑なパターン
- L2-07 おおきな しかくを かこう（4方向ループ）
- L2-08 やまを のぼって おりよう（上下の組み合わせ）
- L2-09 ダンスを かんせいさせよう（複数ループの組み合わせ）

**デバッグ編（10）**: 間違い探し
- L2-10 まちがいを なおそう（繰り返し回数の誤り修正）

**発展編（11-12）**: ネスト準備
- L2-11 くりかえしの なかに いれよう（ネスト導入）
- L2-12 にじゅう くりかえし（2重ループの基礎）

---

### **L3: できごと（イベント）** — 12課題
*目標: 「起きたら○○する」の因果関係を体験する*

**導入編（1-3）**: when_flagの理解
- L3-01 はたが おされたら（基本）
- L3-02 なんかい おしても だいじょうぶ（複数回実行）
- L3-03 はたで パターンを つくろう（異なる動作）

**組み合わせ編（4-6）**: イベント + ループ
- L3-04 はたで くりかえしを つかおう
- L3-05 おとを ならして すすもう
- L3-06 ダンスを じっこう しよう

**条件的思考編（7-9）**: 簡単な条件分岐の概念
- L3-07 みちを えらぼう（2つのルート選択）
- L3-08 しょうがいぶつを よけよう
- L3-09 ゴールまで たどりつこう

**デバッグ編（10）**
- L3-10 イベントの まちがいを なおそう

**統合編（11-12）**: すべての概念の統合
- L3-11 ぜんぶ つかって ゴール
- L3-12 チャレンジ もんだい（難易度高）

---

### **L4: さくひん（自由制作）** — 8課題
*目標: 自分の意図をブロックで表現できる*

**ガイド付き制作（1-3）**
- L4-01 じぶんの ダンスを つくろう
- L4-02 ミニゲームを つくろう
- L4-03 めいろを つくろう

**テーマ制作（4-6）**
- L4-04 アートを かこう（図形パターン）
- L4-05 おはなしを つくろう（ストーリー表現）
- L4-06 おんがくを つくろう（音の組み合わせ）

**総合課題（7-8）**
- L4-07 さくひんを かんせいさせよう（複雑な作品）
- L4-08 さいしゅう チャレンジ（自由課題）

---

### **L5: おうよう（応用・発展）** — 8課題 ※オプション
*プログラミング概念の深化*

**効率化編（1-2）**
- L5-01 もっと みじかく できるかな？（コード最適化）
- L5-02 すくない ブロックで クリア（制約付き課題）

**パターン認識編（3-4）**
- L5-03 パターンを みつけよう
- L5-04 きそくせいを つかおう

**複雑な制御編（5-6）**
- L5-05 3じゅう ループに チャレンジ
- L5-06 ふくざつな うごきを つくろう

**自由探究編（7-8）**
- L5-07 じぶんで もんだいを つくろう
- L5-08 ともだちの もんだいに チャレンジ

## レベル別到達目標

### L1到達目標
- 命令の**順序**で結果が変わると理解
- 複数の命令を組み合わせて目標達成できる
- 同じ動きのパターンに気づく

### L2到達目標
- 同じ動作は**まとめて繰り返せる**と理解
- repeat_nブロックを適切に使える
- 複数のループを組み合わせられる
- ネスト（入れ子）構造の基礎を理解

### L3到達目標
- 「おきたら○○する」の**因果**を体験
- イベントトリガーの概念を理解
- イベントとループを組み合わせられる
- 簡単な条件的思考ができる

### L4到達目標
- **自分の意図**をブロックで表現できる
- これまでの概念を統合して作品を作れる
- 創造的な発想をプログラムで実現できる

### L5到達目標（オプション）
- プログラムの**効率化**を考えられる
- パターン認識と規則性の発見ができる
- 複雑な制御構造を理解できる

## 学習段階モデル

### ステージ1: 模倣（Imitation）
- 見本を見ながらブロックを配置
- 基本操作の習得

### ステージ2: 理解（Understanding）
- なぜそうなるかを理解
- ヒントを元に自分で解決

### ステージ3: 応用（Application）
- 学んだことを別の文脈で使える
- 複数の概念を組み合わせられる

### ステージ4: 創造（Creation）
- 自分のアイデアを形にできる
- 他人に説明できる

## 誤概念と対策

### よくある誤概念
1. **ループの中身が毎回リセットされる**
   - 対策: 実演アニメで累積を強調、カウンター表示

2. **イベントは1回しか起きない**
   - 対策: ヘッド（旗）点灯で待ち受け状態を可視化

3. **ブロックは上から順に全部実行される**
   - 対策: when_flagブロックの役割を明確化

4. **繰り返し回数=ブロック数**
   - 対策: 視覚的なカウント表示、アニメーション

5. **ネストは難しい/使えない**
   - 対策: 段階的導入、視覚的なインデント表示

## 難易度調整の原則

### 易→難への移行要素
1. **ブロック数**: 3個 → 5個 → 8個 → 10個+
2. **ステップ数**: 3手 → 5手 → 8手 → 12手+
3. **概念の組み合わせ**: 単一 → 2つ → 3つ+
4. **ネストレベル**: 0 → 1 → 2
5. **自由度**: ガイドあり → ヒントのみ → 完全自由

### 難易度を下げる要素
- スターターコード提供
- 視覚的なゴール表示
- 音声ヒント充実
- 部分的な正解でも褒める

## 課題フォーマット
```json
{
  "id": "L2_1_walk_repeat",
  "title": "〇かい あるこう",
  "goal": {"type":"reach","x":6,"y":1},
  "toolbox": ["when_flag","move_right","repeat_n"],
  "hints": ["おなじ うごきは まとめよう"],
  "starterCode": [
    {"block":"when_flag"},
    {"block":"move_right","times":3}
  ],
  "accept": {"maxBlocks":10, "allowLinearSolution": true}
}
```

---

## 実装に向けた追補（Implementation-Ready）

- 共通ルール:
  - ステージはグリッド 8×5（x:1..8, y:1..5）。初期位置は(1,1)想定。
  - ゴール座標は各課題の`goal`で指定（type:"reach"）。
  - `toolbox`は04_BlockSpecにあるIDのみ。引数は選択式。
  - `starterCode`は線形解または半分解までを提示し、短縮解（repeat）を誘導。
- 受入（課題単位）:
  - 最大ブロック数`accept.maxBlocks`を超えない。
  - `allowLinearSolution`がtrueのとき、repeat未使用でもクリア可。
  - クリア条件は`reach`/`event`のいずれか達成で`lesson_clear`。
- 各レッスンの具体仕様（先行6件）:
  - L1-1 みぎへいこう: goal(4,1)。toolbox=[when_flag,move_right,play_sound]。starter: when_flag。
  - L1-2 はこをはこぼう: 迷路1段。toolbox=[when_flag,move_up,move_right,move_down]。starter: when_flag。
  - L1-3 おとをならそう: move_right×2の後にplay_sound。toolbox=[when_flag,move_right,play_sound]。
  - L1-4 ゴールまでいけるかな?: 最短3手（右×3）。toolbox=[when_flag,move_right,repeat_n]。短縮解をヒントで示唆。
  - L2-1 〇かい あるこう: 右×3→`repeat_n`で置換。toolbox=[when_flag,move_right,repeat_n]。
  - L3-1 はたが おされたら: when_flagで開始、右×3でゴールに到達。
- ヒント作法（短文・音声化可能）:
  - 一文7〜10語/3–5秒。否定語は避け、肯定/提案で再挑戦促進。
  - 例: 「おなじ うごきは まとめよう」「みどりの ぼたんを おしてみよう」
